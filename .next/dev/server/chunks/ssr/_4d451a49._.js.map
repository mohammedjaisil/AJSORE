{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kadeeja/Desktop/New%20folder/src/actions/auth.ts"],"sourcesContent":["'use server';\r\n\r\nimport { signIn, signOut } from \"@/auth\";\r\nimport { supabaseAdmin } from \"@/lib/supabase\";\r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport async function signupAction(formData: FormData) {\r\n    const email = formData.get(\"email\") as string;\r\n    const password = formData.get(\"password\") as string;\r\n    const name = formData.get(\"name\") as string;\r\n\r\n    if (!email || !password) return { error: \"Missing fields\" };\r\n\r\n    try {\r\n        // 1. Check if user already exists\r\n        const { data: existingUser } = await supabaseAdmin\r\n            .from('users')\r\n            .select('id')\r\n            .eq('email', email)\r\n            .single();\r\n\r\n        if (existingUser) return { error: \"User already exists\" };\r\n\r\n        // 2. Hash password\r\n        const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n        // 3. Create user\r\n        const { data: newUser, error: createError } = await supabaseAdmin\r\n            .from('users')\r\n            .insert({\r\n                email,\r\n                password: hashedPassword,\r\n                name: name || email.split(\"@\")[0],\r\n                image: `https://i.pravatar.cc/150?u=${email}`,\r\n                role: 'USER'\r\n            })\r\n            .select()\r\n            .single();\r\n\r\n        if (createError) throw createError;\r\n\r\n        // 4. Sign in with the new account\r\n        // We set redirect: false to handle the redirect manually and ensure a clean state\r\n        await signIn(\"credentials\", {\r\n            email,\r\n            password,\r\n            redirect: false\r\n        });\r\n\r\n        return { success: true };\r\n    } catch (error) {\r\n        return { error: \"Failed to create account\" };\r\n    }\r\n}\r\n\r\nexport async function loginAction(formData: FormData) {\r\n    const email = formData.get(\"email\") as string;\r\n    const password = formData.get(\"password\") as string;\r\n\r\n    if (!email || !password) return { error: \"Missing fields\" };\r\n\r\n    try {\r\n        const result = await signIn(\"credentials\", {\r\n            email,\r\n            password,\r\n            redirect: false,\r\n        });\r\n\r\n        if (result?.error) return { error: \"Invalid credentials\" };\r\n\r\n        return { success: true };\r\n    } catch (error) {\r\n        return { error: \"Authentication failed\" };\r\n    }\r\n}\r\n\r\nexport async function socialLoginAction(provider: string) {\r\n    await signIn(provider, { redirectTo: \"/account\" });\r\n}\r\n\r\nexport async function logoutAction() {\r\n    await signOut({ redirectTo: \"/\" });\r\n}\r\n"],"names":[],"mappings":";;;;;;;IAgFsB,eAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kadeeja/Desktop/New%20folder/src/components/admin/AdminSidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { logoutAction } from '@/actions/auth';\r\n\r\nconst links = [\r\n    { name: 'Dashboard', href: '/admin', icon: 'üìä' },\r\n    { name: 'Products', href: '/admin/products', icon: 'üì¶' },\r\n    { name: 'Orders', href: '/admin/orders', icon: 'üõí' },\r\n    { name: 'Media', href: '/admin/media', icon: 'üñºÔ∏è' },\r\n    { name: 'Customers', href: '/admin/customers', icon: 'üë•' },\r\n    { name: 'Settings', href: '/admin/settings', icon: '‚öôÔ∏è' },\r\n];\r\n\r\nexport default function AdminSidebar() {\r\n    const pathname = usePathname();\r\n\r\n    return (\r\n        <aside className=\"w-64 bg-gray-900 text-white min-h-screen p-6 fixed left-0 top-0 overflow-y-auto\">\r\n            <div className=\"mb-10 flex items-center gap-3\">\r\n                <div className=\"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center font-bold text-white\">AJ</div>\r\n                <h1 className=\"text-xl font-bold tracking-tight\">Admin</h1>\r\n            </div>\r\n\r\n            <nav className=\"space-y-2\">\r\n                {links.map((link) => {\r\n                    const isActive = pathname === link.href;\r\n                    return (\r\n                        <Link\r\n                            key={link.href}\r\n                            href={link.href}\r\n                            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium ${isActive\r\n                                ? 'bg-emerald-600/20 text-emerald-400'\r\n                                : 'text-gray-400 hover:text-white hover:bg-white/5'\r\n                                }`}\r\n                        >\r\n                            <span>{link.icon}</span>\r\n                            {link.name}\r\n                        </Link>\r\n                    );\r\n                })}\r\n            </nav>\r\n\r\n            <div className=\"absolute bottom-8 left-6 right-6\">\r\n                <form action={async () => { await logoutAction() }}>\r\n                    <button className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:bg-red-500/10 transition-all font-medium\">\r\n                        <span>üö™</span>\r\n                        Log Out\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </aside>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAOA,MAAM,QAAQ;IACV;QAAE,MAAM;QAAa,MAAM;QAAU,MAAM;IAAK;IAChD;QAAE,MAAM;QAAY,MAAM;QAAmB,MAAM;IAAK;IACxD;QAAE,MAAM;QAAU,MAAM;QAAiB,MAAM;IAAK;IACpD;QAAE,MAAM;QAAS,MAAM;QAAgB,MAAM;IAAM;IACnD;QAAE,MAAM;QAAa,MAAM;QAAoB,MAAM;IAAK;IAC1D;QAAE,MAAM;QAAY,MAAM;QAAmB,MAAM;IAAK;CAC3D;AAEc,SAAS;IACpB,MAAM,WAAW,IAAA,iJAAW;IAE5B,qBACI,8OAAC;QAAM,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;kCAA0F;;;;;;kCACzG,8OAAC;wBAAG,WAAU;kCAAmC;;;;;;;;;;;;0BAGrD,8OAAC;gBAAI,WAAU;0BACV,MAAM,GAAG,CAAC,CAAC;oBACR,MAAM,WAAW,aAAa,KAAK,IAAI;oBACvC,qBACI,8OAAC,uKAAI;wBAED,MAAM,KAAK,IAAI;wBACf,WAAW,CAAC,wEAAwE,EAAE,WAChF,uCACA,mDACA;;0CAEN,8OAAC;0CAAM,KAAK,IAAI;;;;;;4BACf,KAAK,IAAI;;uBARL,KAAK,IAAI;;;;;gBAW1B;;;;;;0BAGJ,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAK,QAAQ;wBAAc,MAAM,IAAA,sKAAY;oBAAG;8BAC7C,cAAA,8OAAC;wBAAO,WAAU;;0CACd,8OAAC;0CAAK;;;;;;4BAAS;;;;;;;;;;;;;;;;;;;;;;;AAOvC","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Kadeeja/Desktop/New%20folder/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0],"debugId":null}}]
}